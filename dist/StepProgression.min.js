var StepProgression=function(e){"use strict";function t(){var e=document.head||document.getElementsByTagName("head")[0],n=t.styles||(t.styles={}),s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(t,r){if(!document.querySelector('style[data-vue-ssr-id~="'+t+'"]')){var i=s?r.media||"default":t,o=n[i]||(n[i]={ids:[],parts:[],element:void 0});if(!o.ids.includes(t)){var a=r.source,l=o.ids.length;if(o.ids.push(t),s&&(o.element=o.element||document.querySelector("style[data-group="+i+"]")),!o.element){var c=o.element=document.createElement("style");c.type="text/css",r.media&&c.setAttribute("media",r.media),s&&(c.setAttribute("data-group",i),c.setAttribute("data-next-index","0")),e.appendChild(c)}if(s&&(l=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",l+1)),o.element.styleSheet)o.parts.push(a),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var p=document.createTextNode(a),d=o.element.childNodes;d[l]&&o.element.removeChild(d[l]),d.length?o.element.insertBefore(p,d[l]):o.element.appendChild(p)}}}}}function n(e){n.installed||(n.installed=!0,e.component("StepProgression",o))}var s={name:"StepProgression",props:{steps:{type:Number,default:3},currentStep:{type:Number,default:1},currentStepColor:{type:String,default:"#1c61b2"},defaultColor:{type:String,default:"#e7eaf0"}},data:function(){return{widthInPercent:""}},methods:{calculateStepColor:function(e){return e===this.currentStep||this.currentStep>e?{backgroundColor:this.currentStepColor}:{backgroundColor:this.defaultColor}}},computed:{calculateStepPercentage:function(){return 100/(this.steps-1)}},watch:{currentStep:function(e,t){var n=this.calculateStepPercentage;t+1===2?(this.$refs.stepProgressionLine.style="width: "+n+"%",this.widthInPercent=n+n):e<=this.steps&&(this.$refs.stepProgressionLine.style="width: "+this.widthInPercent+"%",this.widthInPercent=this.widthInPercent+n)}}},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"steps"},[n("div",{staticClass:"steps-line",style:{backgroundColor:e.defaultColor}},[n("div",{ref:"stepProgressionLine",staticClass:"step-progression-line"})]),e._v(" "),e._l(e.steps,function(t){return n("div",{key:t,staticClass:"step",class:"step"+t,style:e.calculateStepColor(t),attrs:{"v-model":e.currentStep+t}})})],2),e._v(" "),n("button",{on:{click:function(t){e.increaseStep()}}},[e._v("Click me")])])},i=[];r._withStripped=!0;var o=function(e,t,n,s,r,i,o,a){var l=("function"==typeof n?n.options:n)||{};l.__file="/Users/paytonburdette/Documents/projects/vue-step-progression/src/StepProgression.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=s;var c;if(t&&(c=function(e){t.call(this,o(e))}),void 0!==c)if(l.functional){var p=l.render;l.render=function(e,t){return c.call(t),p(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return l}({render:r,staticRenderFns:i},function(e){e&&e("data-v-486c6e80_0",{source:"\n.steps[data-v-486c6e80] {\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n}\n.steps-line[data-v-486c6e80] {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  height: 2px;\n}\n.step-progression-line[data-v-486c6e80] {\n  position: absolute;\n  top: 50%;\n  width: 0%;\n  height: 2px;\n  background-color: #1c61b2;\n}\n.step[data-v-486c6e80] {\n  justify-content: center;\n  align-items: center;\n  height: 32px;\n  width: 32px;\n  border-radius: 50%;\n  z-index: 2;\n}\n",map:{version:3,sources:["/Users/paytonburdette/Documents/projects/vue-step-progression/src/StepProgression.vue"],names:[],mappings:";AA0FA;EACA,mBAAA;EACA,cAAA;EACA,+BAAA;CACA;AAEA;EACA,mBAAA;EACA,SAAA;EACA,QAAA;EACA,SAAA;EACA,YAAA;CACA;AAEA;EACA,mBAAA;EACA,SAAA;EACA,UAAA;EACA,YAAA;EACA,0BAAA;CACA;AAEA;EACA,wBAAA;EACA,oBAAA;EACA,aAAA;EACA,YAAA;EACA,mBAAA;EACA,WAAA;CACA",file:"StepProgression.vue",sourcesContent:['<template>\n  <section>\n    <div class="steps">\n      <div class="steps-line" :style="{backgroundColor: defaultColor}">\n        <div ref="stepProgressionLine" class="step-progression-line"></div>\n      </div>\n      <div \n        v-for="step in steps" \n        :key="step"\n        :style="calculateStepColor(step)"\n        :v-model="currentStep + step" \n        :class="`step${step}`"\n        class="step">\n      </div>\n    </div>\n    <button @click="increaseStep()">Click me</button>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: \'StepProgression\',\n\n  props: {\n    steps: {\n      type: Number,\n      default: 3\n    },\n    currentStep: {\n      type: Number,\n      default: 1\n    },\n    currentStepColor: {\n      type: String,\n      default: \'#1c61b2\'\n    },\n    defaultColor: {\n      type: String,\n      default: \'#e7eaf0\'\n    }\n  },\n\n  data() {\n    return {\n      widthInPercent: ""\n    }\n  },\n\n  methods: {\n    calculateStepColor(step) {\n      if (step === this.currentStep || this.currentStep > step) {\n        return {\n          backgroundColor: this.currentStepColor\n        }\n      } else {\n        return {\n          backgroundColor: this.defaultColor \n        }\n      }\n      \n    }\n  },\n\n  computed: {\n    calculateStepPercentage() {\n      return 100 / (this.steps - 1)\n    }\n  },\n\n  watch: {\n    currentStep(currentStep, prevStep) {\n      let intialWidth = this.calculateStepPercentage\n\n      // all use cases should start on step 1, so we can do first width increase here\n      if ((prevStep + 1) === 2) {\n          this.$refs.stepProgressionLine.style = `width: ${intialWidth}%`\n          // increase intialWidth by itself after first step change\n          this.widthInPercent = intialWidth + intialWidth\n      } else {\n        if(currentStep <= this.steps) {\n          this.$refs.stepProgressionLine.style = `width: ${this.widthInPercent}%`\n          this.widthInPercent = this.widthInPercent + intialWidth\n        }\n      }\n    }\n  }\n}\n<\/script>\n\n<style scoped>\n.steps {\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n}\n\n.steps-line {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  height: 2px;\n}\n\n.step-progression-line {\n  position: absolute;\n  top: 50%;\n  width: 0%;\n  height: 2px;\n  background-color: #1c61b2;\n}\n\n.step {\n  justify-content: center;\n  align-items: center;\n  height: 32px;\n  width: 32px;\n  border-radius: 50%;\n  z-index: 2;\n}\n</style>\n']},media:void 0})},s,"data-v-486c6e80",!1,void 0,t,void 0),a={install:n},l=null;return"undefined"!=typeof window?l=window.Vue:"undefined"!=typeof global&&(l=global.Vue),l&&l.use(a),e.default=o,e}({});
